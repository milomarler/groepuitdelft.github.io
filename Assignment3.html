<!DOCTYPE html>
<html lang="en">
<head>
<title>Assignment 3</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.0.1/styles/default.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.0.1/highlight.min.js"></script>
    <script>
        hljs.initHighlightingOnLoad();
    </script>
<style>
* {
  box-sizing: border-box;
}

/* Style the body */
body {
  font-family: Arial, Helvetica, sans-serif;
  margin: 0;
}

/* Header/logo Title */
.header {
  padding: 20px;
  text-align: center;
  background: url('Background_landingpage.jpg') center center no-repeat;
  background-size: cover;
  color: white;
}

/* Increase the font size of the heading */
.header h1 {
  font-size: 40px;
}

.header a {
  display: block;
  height: 100%; /* Ensure the anchor fills the entire header */
  width: 100%;
  text-decoration: none; /* Remove underline on the anchor text */
  color: inherit; /* Inherit the color from the parent element */
}

/* Sticky navbar - toggles between relative and fixed, depending on the scroll position. It is positioned relative until a given offset position is met in the viewport - then it "sticks" in place (like position:fixed). The sticky value is not supported in IE or Edge 15 and earlier versions. However, for these versions the navbar will inherit default position */
.navbar {
  overflow: hidden;
  background-color: #fdd835;
  position: sticky;
  position: -webkit-sticky;
  top: 0;
  display: flex; /* Center the navigation links horizontally */
  justify-content: center; /* Center the links horizontally */
}

/* Style the navigation bar links */
.navbar a {
  color: white;
  text-align: center;
  padding: 14px 20px;
  text-decoration: none;
}

/* Change color on hover */
.navbar a:hover {
  background-color: #ffeb3b;
  color: white;
}

/* Active/current link */
.navbar a.active {
  background-color: #fbc02d;
  color: white;
}

/* Column container */
.row {  
  display: -ms-flexbox; /* IE10 */
  display: flex;
  -ms-flex-wrap: wrap; /* IE10 */
  flex-wrap: wrap;
}

/* Main column */
.main {   
  -ms-flex: 70%; /* IE10 */
  flex: 70%;
  background-color: white;
  padding: 20px;
  margin: 0 150px; /* Add margin to the left and right sides */
}

/* Fake image, just for this example */
.full-width-image {
  width: 50%;
  height: auto;
  display: block;
  margin: 0 auto; /* Center horizontally */
}

.image-container {
    width: 100%;
    display: flex;
    justify-content: space-between;
}

.half-width-image {
    max-width: 50%;
    height: auto;
}

.code-container {
    margin: 0;
    padding: 0;
    background-color: #f0f0f0; /* Background color for the code block */
    border-radius: 10px; /* Rounded corners */
    width: 100%; /* Full width of the webpage */
    overflow-x: auto; /* Enable horizontal scroll bar */
}
    
/* Footer */
.footer {
  padding: 1.5px; /* Decrease the padding to make it smaller */
  text-align: center;
  background-color: #fdd835;
  color: white;
  font-size: 7px; /* Decrease the font size to make it smaller */
}

/* Responsive layout - when the screen is less than 700px wide, make the two columns stack on top of each other instead of next to each other */
@media screen and (max-width: 700px) {
  .row {   
    flex-direction: column;
  }
}

/* Responsive layout - when the screen is less than 400px wide, make the navigation links stack on top of each other instead of next to each other */
@media screen and (max-width: 400px) {
  .navbar a {
    float: none;
    width: 100%;
  }
}
</style>
</head>
<body>

<div class="header">
  <a href="index.html">
  <h1>Amsterdam Paralympics 2024</h1>
 <p>DATA 1 assignments conceived and developed by <b>Group 12</b>.</p>
</div>

<div class="navbar">
  <a href="AboutUs.html">About Us</a>
  <a href="Assignment1.html">Assignment 1</a>
  <a href="Assignment2.html">Assignment 2</a>
  <a href="Assignment3.html"class="active"><b>Assignment 3</b></a>
  <a href="Assignment4.html">Assignment 4</a>
</div>

<div class="row">
  <div class="main">
  <h1>Housing</h1>
  <h2>Municipal Brief</h2>
  <p><i>The Municipality of Amsterdam is in a love hate relationship with AirBnb, see for example this and this article. Amsterdam wants to get a bit of insight in the number of tourists that will make use of AirBnB. </i></p>
  <br>
  <h2>Tourist tax income</h2>
  <p></p>
  <br>
  <h2>AirBNB locations per neighbourhood</h2>
  <p></p>
  <div class="code-container"><pre><code class="python">
  # Question 3.2

  import pandas as pd
  import matplotlib.pyplot as plt

  # I loaded the data from the CSV file into the dataframe
  # To make a list with the data I then chose the neighbourhood_cleansed column
  # I defined the number of bins for the graph
  df = pd.read_csv("C:/Users/yanni/OneDrive/Documenten/MADE_Data 1/Week 4_listings_GEBRUIK DEZE.csv.gz")
  data_points = df['neighbourhood_cleansed'].tolist()
  n_bins = 21

  # And created a new figure and axis for the graph
  fig, ax = plt.subplots()

  # I made a plot of the data points with specified number of bins, then I used 'ec' to make the edges of the bars white
  ax.hist(data_points, ec='white', bins=n_bins)

  # To improve the readability I rotated the labels
  plt.xticks(rotation=90)

  rects = ax.patches

  # I set the title for the graph and plotted it
  plt.title('AirBnB Locations per Neighbourhood')
  plt.show()
  </code></pre></div>
  <img src="Housing_1.png" alt="AirBnB Locations per Neighbourhood" class="full-width-image">
  <br>
  <h2>The street with the most Airbnb's</h2>
  <p></p>
  <div class="code-container"><pre><code class="python">
  # Question 3.3 (new using Folium)

  import pandas as pd
  import folium

  # I loaded the data from the CSV file into the dataframe
  df = pd.read_csv("C:/Users/yanni/OneDrive/Documenten/MADE_Data 1/Week 4_listings_GEBRUIK DEZE.csv.gz")

  # I counted the frequency of each pair of coordinates
  coordinate_counts = df.groupby(['latitude', 'longitude']).size().reset_index(name='Frequency')

  # Then I created a Folium map
  m = folium.Map(location=[df['latitude'].mean(), df['longitude'].mean()], zoom_start=12)

  # I added markers to the map on all the locations where AirBnB's are found
  for index, row in coordinate_counts.iterrows():
      folium.Marker(
          location=[row['latitude'], row['longitude']],
          popup=f"Frequency: {row['Frequency']}",
          fill=True,
          fill_color='blue',
      ).add_to(m)

  #I plotted the map and saved it as an HTML file
  m.save("coordinate_map.html")
  m
  </code></pre></div>
  <img src="Housing_2.png" alt="AirBnB coordinates in Amsterdam" class="full-width-image">
  <div class="code-container"><pre><code class="python">
  import pandas as pd
  import folium

  # I loaded the data from the CSV file into the dataframe
  df = pd.read_csv("C:/Users/yanni/OneDrive/Documenten/MADE_Data 1/Week 4_listings_GEBRUIK DEZE.csv.gz")

  # I counted the frequency of each pair of coordinates
  coordinate_counts = df.groupby(['latitude', 'longitude']).size().reset_index(name='Frequency')

  # Then I found the coordinate pair with the highest frequency
  most_common_coordinate = coordinate_counts.sort_values(by='Frequency', ascending=False).iloc[0]

  # I printed the info of the most common coordinate
  print("Most Common Coordinate:")
  print("latitude:", most_common_coordinate['latitude'])
  print("longitude:", most_common_coordinate['longitude'])
  print("Frequency:", most_common_coordinate['Frequency'])

  # I created a map centered around the most common coordinate
  map_center = [most_common_coordinate['latitude'], most_common_coordinate['longitude']]
  m = folium.Map(location=map_center, zoom_start=15)

  # And added a marker for the most common coordinate
  folium.Marker(
          location=map_center,
          popup=f"Most Common Coordinate\nFrequency: {most_common_coordinate['Frequency']}",
          fill=True,
          fill_color='blue',
      ).add_to(m)

  # Then I saved the map as an HTML file
  m.save("most_common_coordinate_map.html")

  m
  </code></pre></div>
  <img src="Housing_3.png" alt="Most frequent AirBnB coordinate" class="full-width-image">
  <br>
  <h2>Indentifying Airbnb's as permanent housing</h2>
  <p></p>
  <div class="code-container"><pre><code class="python">
  # Question 3.4
  import pandas as pd

  airbnb_data = pd.read_csv(r"C:\Users\inesv\Documents\MADE\data\airbnb\listings.csv")
  woningenAMS = pd.read_csv(r"C:\Users\inesv\Documents\MADE\data\airbnb\BBGA1.csv", sep = ";")


  #airbnb's that are available throughout the whole year, data from airbnbsite
  data = airbnb_data.iloc[:,15]
  allyear = data==365
  print(sum(allyear))
  #so there are 36 airbnb's available throughout the whole year but a lot are also available for most of the time. 

  #creating bins steps of 10
  bins = list(range(0, 366, 10))

  #plotting data
  plt.figure(figsize=(12, 6))
  plt.hist(data, bins=[0, 5, 10, 20, 30, 40, 50, 60, 70, 80, 90, etc.], alpha=0.5, color='green', label='Original Data')

  plt.xlabel('Days Available per Year')
  plt.ylabel('Number of Airbnbs')
  plt.title('Airbnbs Availability Distribution')
  plt.legend()
  plt.xticks(rotation=45, ha='right')  # Rotate the X-axis labels for readability
  plt.show()
  </code></pre></div>
  <img src="Housing_4.jpeg" alt="AirBnB's Availability Distribution" class="full-width-image">
  <br>
  <h2>Determining the required number of hotel rooms</h2>
  <p></p>
  <br>
  <h2>Determining the amount of different licenses issued</h2>
  <p></p>
  <br>
  <h2>Conclusion</h2>
  <p></p>
  <br>
  <h2>Reccomendations</h2>
  <p></p>
  <br>
  <h2>References</h2>
  <p></p>
  </div>
</div>

<div class="footer">
  <p>©2023. Inés van der Klip, Milo Marler, and Yannick Aliet. All rights reserved</p>
</div>

</body>
</html>
